{% with messages = get_flashed_messages(with_categories=true) %}
{% if messages %}
    <section class="messages">
        {% for category,msg in messages %}
            <p class="{{category}}">{{msg}}</p>
        {% endfor %}
    </section>
{% endif %}
{% endwith %}

<form method="POST" id="user_form">
    {{ form.hidden_tag() }}

    {% for field in form if field.widget.input_type != 'hidden' %}
      {% for error in field.errors %}
        <span class="text-danger">{{ error }}</span>
      {% endfor %}
      {{ field(placeholder=field.label.text, class="form-control") }}
    {% endfor %}

    <button>Login</button>
</form>